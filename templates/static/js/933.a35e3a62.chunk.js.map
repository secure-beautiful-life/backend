{"version":3,"file":"static/js/933.a35e3a62.chunk.js","mappings":"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","sources":["api/fitting/fitting.query.ts","core/components/AppHeader.tsx","views/fitting/Fitting.styled.ts","views/fitting/Fitting.tsx"],"sourcesContent":["import { apiSlice } from '../../App.apiSlice'\nimport * as I from './fitting.interface'\n\nexport const fittingApi = apiSlice.injectEndpoints({\n  endpoints: (build) => ({\n    // 사용 안할 api\n    getAllFitting: build.query<any, void>({\n      query: () => ({\n        url: `/beauties`,\n      }),\n      providesTags: ['fitting'],\n    }),\n\n    getProductFitting: build.query<Array<I.Res_FittingDetail>, { product_id: number }>({\n      query: ({ product_id }) => ({\n        url: `/beauties/${product_id}/`,\n      }),\n      providesTags: ['fitting'],\n    }),\n\n    getFittingDetail: build.query<any, I.Req_FittingDetail>({\n      query: ({ beauty_id }) => ({\n        url: `/beauties/${beauty_id}/`,\n      }),\n      providesTags: ['fitting'],\n    }),\n\n    postFitting: build.mutation<any, I.Req_PostFitting>({\n      query: (params) => ({\n        url: `/beauties`,\n        method: 'POST',\n        body: params,\n      }),\n      invalidatesTags: ['fitting'],\n    }),\n\n    deleteFitting: build.mutation<any, I.Req_FittingDetail>({\n      query: ({ beauty_id }) => ({\n        url: `/beauties/${beauty_id}/`,\n        method: 'DELETE',\n      }),\n      invalidatesTags: ['fitting'],\n    }),\n  }),\n})\n\nexport const {\n  useGetAllFittingQuery,\n  usePostFittingMutation,\n  useGetProductFittingQuery,\n  useGetFittingDetailQuery,\n  useDeleteFittingMutation,\n} = fittingApi\n","import styled from 'styled-components'\nimport { getFlex, getMaxMediaScreen } from '../../designs/util/display'\nimport { getColor, getTypo } from '../../designs/util/atom'\nimport { ReactElement } from 'react'\nimport { IoIosArrowBack } from 'react-icons/io'\nimport { useNavigate } from 'react-router-dom'\n\ninterface Props {\n  title: string\n  icon?: ReactElement\n  isBack?: boolean\n}\n\nexport default function AppHeader({ title, icon, isBack }: Props) {\n  const navigate = useNavigate()\n  return (\n    <HeaderWrap data-isback={isBack}>\n      <div>\n        {isBack && (\n          <IoIosArrowBack onClick={() => navigate(-1)} size=\"1rem\" style={{ transform: `translate(-10px,3px)` }} />\n        )}\n        <span>{title}</span>\n      </div>\n      {icon && icon}\n    </HeaderWrap>\n  )\n}\n\nexport const HeaderWrap = styled.div`\n  position: fixed;\n  top: 0;\n  width: 100vw;\n  height: 3.4rem;\n  padding: 1.8rem;\n  background-color: #ffffff;\n  z-index: 100;\n  ${getFlex({ js: 'space-between' })} ${getMaxMediaScreen()} span {\n    ${getTypo({ fontSize: '1.22rem', fontWeight: 700 })}\n    ${getColor('BLACK')}\n  }\n  svg {\n    width: 1.3rem;\n    height: 1.3rem;\n    ${getColor('GREY_4')}\n    cursor: pointer;\n  }\n\n  &[data-isback='true'] {\n    & > div {\n      span {\n        position: absolute;\n        right: 50%;\n        transform: translateX(50%);\n      }\n    }\n  }\n`\n","import styled from 'styled-components'\nimport { getFlex } from '../../designs/util/display'\n\nimport { hideScrollBar } from '../../designs/util/helpder'\n\nexport const Wrap = styled.div`\n  width: 100%;\n  height: 100vh;\n  padding: 5rem 0 2rem 0;\n  overflow-y: scroll;\n  ${hideScrollBar()}\n  gap: 1rem;\n  ~ nav {\n    display: none;\n  }\n`\n\nexport const ImgList = styled.div`\n  display: grid;\n  gap: 1rem;\n  grid-template-columns: repeat(3, 1fr);\n\n  img {\n    width: 100%;\n    height: auto;\n    cursor: pointer;\n    object-fit: cover;\n  }\n`\n\nexport const ModalImg = styled.img`\n  width: 16rem;\n  height: auto;\n  margin-top: 1rem;\n  margin-bottom: 1rem;\n  object-fit: cover;\n`\n\nexport const ImgWrap = styled.div`\n  position: relative;\n  svg {\n    position: absolute;\n    right: 0.5rem;\n    top: 0.5rem;\n    cursor: pointer;\n  }\n`\n\nexport const DelModalWrap = styled.div`\n  ${getFlex({ dir: 'column', js: 'space-between' })}\n\n  width: 100%;\n  height: 100%;\n  padding: 3rem 0;\n  p {\n    font-size: 1.2rem;\n  }\n`\n","import { useState } from 'react'\nimport { IoClose } from 'react-icons/io5'\nimport { useParams } from 'react-router-dom'\nimport { useCheckIsUserQuery } from '../../api/auth/auth.query'\n\nimport {\n  useDeleteFittingMutation,\n  useGetFittingDetailQuery,\n  useGetProductFittingQuery,\n} from '../../api/fitting/fitting.query'\nimport AppButton from '../../core/components/AppButton'\nimport AppHeader from '../../core/components/AppHeader'\nimport ModalSlideUp from '../../core/components/modal/ModalSlideUp'\nimport SimpleModal from '../../core/components/modal/SimpleModal'\nimport { useModal } from '../../core/hooks/useModal'\nimport * as UI from './Fitting.styled'\n\nexport default function Fitting() {\n  const [currId, setCurrId] = useState(0)\n  const [delId, setDelId] = useState(0)\n\n  const { isModal, setIsModal } = useModal()\n  const { isModal: deleteModal, setIsModal: setDeleteModal } = useModal()\n  const params = useParams()\n  const { data, isLoading } = useGetProductFittingQuery({ product_id: Number(params.id) })\n  const { data: userData } = useCheckIsUserQuery()\n\n  const [deleteImg] = useDeleteFittingMutation()\n\n  const onOpenDeleteModal = (id: number) => {\n    setDeleteModal(true)\n    setDelId(id)\n  }\n\n  return (\n    <>\n      <ModalSlideUp isModal={deleteModal} trigger={() => setDeleteModal(false)}>\n        <UI.DelModalWrap>\n          <p>피팅된 이미지를 삭제하시겠습니까?</p>\n          <AppButton\n            content=\"삭제하기\"\n            radius=\"1rem\"\n            onClick={() =>\n              deleteImg({ beauty_id: delId })\n                .unwrap()\n                .then(() => setDeleteModal(false))\n            }\n            width=\"100%\"\n          />\n        </UI.DelModalWrap>\n      </ModalSlideUp>\n      <AppHeader title=\"피팅 둘러보기\" isBack />\n      <UI.Wrap>\n        <UI.ImgList>\n          {data?.map((item: any) => (\n            <UI.ImgWrap>\n              {userData?.userId === item.userId && (\n                <IoClose size={'1.4rem'} fill={'black'} onClick={() => onOpenDeleteModal(item.id)} />\n              )}\n              <img\n                key={item.id}\n                src={item.saved_name}\n                alt=\"fitting img\"\n                onClick={() => {\n                  setCurrId(item.id)\n                  setIsModal(true)\n                }}\n              />\n            </UI.ImgWrap>\n          ))}\n        </UI.ImgList>\n      </UI.Wrap>\n      <SimpleModal\n        isModal={isModal}\n        content={<FittingModal fittingId={currId} />}\n        btnText=\"닫기\"\n        trigger={() => setIsModal(false)}\n        btnTrigger={() => setIsModal(false)}\n        height={'25rem'}\n      />\n    </>\n  )\n}\n\nexport function FittingModal({ fittingId }: { fittingId: number }) {\n  const { data, isLoading } = useGetFittingDetailQuery({ beauty_id: fittingId })\n\n  return <UI.ModalImg src={data?.image} alt=\"fitting img\" />\n}\n"],"names":["fittingApi","apiSlice","endpoints","build","getAllFitting","query","url","providesTags","getProductFitting","product_id","getFittingDetail","beauty_id","postFitting","mutation","params","method","body","invalidatesTags","deleteFitting","useGetAllFittingQuery","usePostFittingMutation","useGetProductFittingQuery","useGetFittingDetailQuery","useDeleteFittingMutation","AppHeader","title","icon","isBack","navigate","useNavigate","HeaderWrap","onClick","size","style","transform","styled","getFlex","js","getMaxMediaScreen","getTypo","fontSize","fontWeight","getColor","Wrap","hideScrollBar","ImgList","ModalImg","ImgWrap","DelModalWrap","dir","Fitting","useState","currId","setCurrId","delId","setDelId","useModal","isModal","setIsModal","deleteModal","setDeleteModal","useParams","Number","id","data","userData","isLoading","useCheckIsUserQuery","deleteImg","trigger","content","radius","unwrap","then","width","map","item","userId","fill","src","saved_name","alt","FittingModal","fittingId","btnText","btnTrigger","height","image"],"sourceRoot":""}